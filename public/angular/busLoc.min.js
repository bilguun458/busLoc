(function(){"use strict";angular.module("busLocApp",["ngRoute"]);t.$inject=["$routeProvider"];function t(t){t.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/route",{templateUrl:"route/route.view.html",controller:"routeCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"common/views/genericText.view.html",controller:"aboutCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("busLocApp").config(["$routeProvider",t])})();(function(){"use strict";angular.module("busLocApp").controller("homeCtrl",t);t.$inject=["$scope","transdepData","$sce"];function t(t,n,e){var o=this;o.urlPrefix="https://graphhopper.com/maps/?";o.urlSuffix="weighting=fastest&elevation=true&use_miles=false&layer=OpenStreetMap";o.changeMapUrl=function(t){o.mapUrl=o.urlPrefix+t+o.urlSuffix;o.mapUrl=e.trustAsResourceUrl(o.mapUrl)};o.changeMapUrl("");o.generatePointStr=function(){for(var t=0;t<o.mapPoints.length;t++){o.pointStr+="point="+o.mapPoints[t].lat+","+o.mapPoints[t].lon+"&"}o.changeMapUrl(o.pointStr)};o.search=function(t){o.pointStr="";n.getBusLocation(t).then(function(t){o.pointStr="point="+t.data.lat+","+t.data.lon+"&"}).catch(function(t){o.searchMessage="Хайлт олдсонгүй";console.log(err)});n.getPointsByLNumber(t).then(function(t){o.mapPoints=t.data.points;if(o.mapPoints===undefined){o.searchMessage="Хайлт олдсонгүй"}else{o.searchMessage="Чиглэл: "+t.data.from+"-"+t.data.to;o.generatePointStr()}}).catch(function(t){o.searchMessage="Хайлт олдсонгүй";console.log(t)})}}})();(function(){angular.module("busLocApp").controller("aboutCtrl",t);t.$inject=["$sce"];function t(t){var n=this;n.main={title:"BusLocation Тухай",content:"Хэрэглэгчийн шаардлага: \n* Хэрэглэгч хот хоорондын тодорхой чиглэл дэх суурингуудын байршлыг газрын зураг дээр дүрсэлсэн байдлаар харах боломжтой байх \n* Хэрэглэгч хот хоорондын зорчих тээврийн хэрэгслийн улсын бүртгэлийн дугаараар хайлт хийнэ сүүлд бүртгэгдсэн байршлыг газрын зураг дээрээс харах боломжтой байх \n * Хэрэглэгч тээврийн хэрэгслүүдийн улсын бүртгэлийн дугаарыг зорчих чиглэл болон хөдлөх огноогоор нь шүүлт хийж  харах боломжтой байх"};n.main.title=t.trustAsHtml(n.main.title);n.main.content=t.trustAsHtml(n.main.content.replace(/\n/g,"<br/>"))}})();(function(){"use strict";angular.module("busLocApp").controller("routeCtrl",t);t.$inject=["$scope","transdepData"];function t(t,n){var e=this;n.getStations().then(function(t){e.stations=t.data}).catch(function(t){console.log(t)});n.getRoutes().then(function(t){e.routes=t.data}).catch(function(t){console.log(t)})}})();(function(){angular.module("busLocApp").directive("navigation",t);function t(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html",controller:"navigationCtrl as navvm"}}})();(function(){angular.module("busLocApp").controller("navigationCtrl",t);t.$inject=[];function t(){}})();(function(){"use strict";angular.module("busLocApp").service("transdepData",t);t.$inject=["$http"];function t(t){var n=this;n.getStations=function(){return t.get("api/route/stations")};n.getRoutes=function(){return t.get("api/route/routes")};n.getPointsByLNumber=function(n){return t.get("api/route/routes/points/"+n)};n.getBusLocation=function(n){return t.get("api/route/bus/"+n)}}})();(function(){"use strict";angular.module("busLocApp").filter("dateInMillis",t);function t(){return function(t){return Date.parse(t)}}})();(function(){angular.module("busLocApp").filter("addHtmlLineBreaks",t);function t(){return function(t){var n=String(t).replace(/\n/g,"<br/>");return n}}})();